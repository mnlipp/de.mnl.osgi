<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>de.mnl.osgi.lf4osgi (de.mnl.osgi.lf4osgi 3.0.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: package: de.mnl.osgi.lf4osgi">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#package">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package de.mnl.osgi.lf4osgi" class="title">Package de.mnl.osgi.lf4osgi</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">de.mnl.osgi.lf4osgi</span></div>
<section class="package-description" id="package-description">
<div class="block">A bundle that provides a logging facade for the standard OSGI
 <a href="https://docs.osgi.org/javadoc/osgi.cmpn/7.0.0/org/osgi/service/log/Logger.html" title="class or interface in org.osgi.service.log" class="external-link"><code>Logger</code></a>.
 <P>
 <a href="https://github.com/mnlipp/de.mnl.osgi/issues" target="_blank">
   <img alt="GitHub issues" src="https://img.shields.io/github/issues/mnlipp/de.mnl.osgi.svg"></a>
 <a href="https://search.maven.org/#search%7Cga%7C1%7Ca%3A%22de.mnl.osgi.lf4osgi%22" target="_blank">
   <img alt="Maven Central" src="https://img.shields.io/maven-central/v/de.mnl.osgi/de.mnl.osgi.lf4osgi.svg"></a>
 
 <h2>Installation</h2>
 
 The bundle is deployed as any other OSGi bundle
 
 <h2>Facade functionality</h2>
 
 The OSGi Log Service has improved a lot with 
 <a href="https://osgi.org/specification/osgi.cmpn/7.0.0/service.log.html">Version 1.4</a>.
 Still, it is not as easy to use as the popular logging frameworks,
 mainly because it lacks a static factory for loggers. In order to
 get a logger, you first have to obtain a 
 <a href="LoggerFactory.html" title="class in de.mnl.osgi.lf4osgi"><code>LoggerFactory</code></a> as service. Even with 
 Declarative Services (or some other dependency managing framework), 
 this makes the usage more cumbersome than you'd like it to be. And 
 you still have to handle the problem that all loggers obtained become
 invalid should the <code>LoggingFactory</code> service in use be replaced.
 <P>
 Yet another point is how to log when no <code>LoggingFactory</code> service
 is available. This may be the case during startup.
 <P>
 This "facade" for OSGi logging overcomes those problems. The
 tiny overhead to pay is an extra method invocation because the
 <a href="https://docs.osgi.org/javadoc/osgi.cmpn/7.0.0/org/osgi/service/log/Logger.html" title="class or interface in org.osgi.service.log" class="external-link"><code>Logger</code></a> implementation provided as 
 facade has to delegate to the logger supplied by the 
 <code>LoggingFactory</code> service (or a stand-in, see below). 
 However, this should be neglectable under all circumstances,
 especially if you use closures for logging.
 <P>
 As long as there is no <code>LoggingFactory</code> service available (yet), 
 logging events are recorded in a buffer which is flushed to the service 
 as soon as it becomes available. The "thread info", which is added 
 automatically by the implementation of the logger service, 
 cannot be recorded. The recorded event data therefore includes the name
 of the thread that caused the log event. When flushing the recorded
 events, the name of the flushing thread is temporarily set to
 the recorded thread name with "[recorded]" appended.
 <P>
 Of course, while there is no <code>LoggingFactory</code> service available,
 the desired logging level cannot be determined. Therefore all events
 with level <a href="https://docs.osgi.org/javadoc/osgi.cmpn/7.0.0/org/osgi/service/log/LogLevel.html#DEBUG" title="class or interface in org.osgi.service.log" class="external-link"><code>LogLevel.DEBUG</code></a> and up
 are recorded. This default threshold can be changed using system 
 settings or bundle properties (see below).
 
 <h2>Additional log methods</h2>
 
 The loggers returned by the <a href="LoggerFactory.html" title="class in de.mnl.osgi.lf4osgi"><code>LoggerFactory</code></a>
 actually implement a subinterface of the OSGi 
 <a href="https://docs.osgi.org/javadoc/osgi.cmpn/7.0.0/org/osgi/service/log/Logger.html" title="class or interface in org.osgi.service.log" class="external-link"><code>Logger</code></a> interface. This augmented
 LF4OSGi <a href="Logger.html" title="interface in de.mnl.osgi.lf4osgi"><code>Logger</code></a> interface provides
 additional log methods with the first parameter being the
 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Supplier.html" title="class or interface in java.util.function" class="external-link"><code>Supplier</code></a> for the message, which is only
 evaluated if the log level is met.
 <P>
 This additional functionality is the reason why the
 <a href="LoggerFactory.html" title="class in de.mnl.osgi.lf4osgi"><code>LoggerFactory</code></a> does not supply
 <a href="https://docs.osgi.org/javadoc/osgi.cmpn/7.0.0/org/osgi/service/log/FormatterLogger.html" title="class or interface in org.osgi.service.log" class="external-link"><code>FormatterLogger</code></a>s. Using a supplier
 for the message is a much more flexible design. If you want to
 use printf-style formatting, simply log like this:
 <pre>
 logger.warn(() -&gt; String.format("Value is %d.", 42));
 </pre>
 With the "message supplier pattern" you can just as easily use 
 a <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/MessageFormat.html" title="class or interface in java.text" class="external-link"><code>MessageFormat</code></a> or simply concatenate strings 
 to generate your log message. As long as the log level is below 
 the threshold, nothing is evaluated and no performance is lost.
 
 <h2>Bundle properties</h2>
 
 The following bundle properties are used to configure the described 
 behavior.
 
 <table>
   <caption>Bundle parameters</caption>
   <thead>
     <tr>
       <th>Property</th><th>Description</th><th>Default</th>
     </tr>
   </thead>
   <tbody>
     <tr>
       <td><code>de.mnl.osgi.lf4osgi.bufferThreshold</code></td>
       <td>The minimum <a href="https://docs.osgi.org/javadoc/osgi.cmpn/7.0.0/org/osgi/service/log/LogLevel.html" title="class or interface in org.osgi.service.log" class="external-link"><code>LogLevel</code></a>
       of messages that are to be buffered.</td>
       <td><a href="https://docs.osgi.org/javadoc/osgi.cmpn/7.0.0/org/osgi/service/log/LogLevel.html#DEBUG" title="class or interface in org.osgi.service.log" class="external-link"><code>LogLevel.DEBUG</code></a></td>
     </tr>
     <tr>
       <td><code>de.mnl.osgi.lf4osgi.bufferSize</code></td>
       <td>The size of the buffer. If the buffer is full,
       the oldest event is discarded.</td>
       <td>100</td>
     </tr>
   </tbody>
 </table>

 Bundle parameters can only be evaluated when the bundle has been started.
 This may be too late if another bundle that uses LF4OSGi is started
 before this bundle. These values can therefore also be set as system 
 properties. If values are supplied both as system properties and as
 bunde parameters, the bundle parameters take precedence when the
 LF4OSGi provider bundle is started.</div>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="core/package-summary.html">de.mnl.osgi.lf4osgi.core</a></div>
<div class="col-last even-row-color">
<div class="block">The classes that implement the logger facade for OSGi.</div>
</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab1" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab1', 2)" class="table-tab">Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button></div>
<div id="class-summary.tabpanel" role="tabpanel">
<div class="summary-table two-column-summary" aria-labelledby="class-summary-tab0">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="Lf4OsgiLogger.html" title="class in de.mnl.osgi.lf4osgi">Lf4OsgiLogger</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">The implementation of the facade for OSGi loggers.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="Logger.html" title="interface in de.mnl.osgi.lf4osgi">Logger</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">An extended OSGi <a href="https://docs.osgi.org/javadoc/osgi.cmpn/7.0.0/org/osgi/service/log/Logger.html" title="class or interface in org.osgi.service.log" class="external-link"><code>Logger</code></a> interface.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="LoggerFactory.html" title="class in de.mnl.osgi.lf4osgi">LoggerFactory</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">The factory that supplies the OSGi <a href="Logger.html" title="interface in de.mnl.osgi.lf4osgi"><code>Logger</code></a>s from static methods.</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><div><!-- Optional footer data --><p id=githubfooter style="padding: 5px 6px; visibility: hidden">Hosted on GitHub Pages &mdash; <a href="https://github.com/site/terms" target="_top">Terms</a>&mdash; <a href="https://github.com/site/privacy" target="_top">Privacy</a></p><script type="text/javascript">if (location.hostname.indexOf("github") !== -1) {document.getElementById("githubfooter").style.visibility="visible";<!-- Matomo anonymous, no cookies (https://matomo.org/blog/2018/04/how-to-not-process-any-personal-data-with-matomo-and-what-it-means-for-you/) -->var _paq = _paq || [];/* tracker methods like "setCustomDimension" should be called before "trackPageView" */_paq.push(["setDocumentTitle", document.domain + "/" + document.title]);_paq.push(["setCookieDomain", "*.mnlipp.github.io"]);_paq.push(["setDomains", ["*.mnlipp.github.io"]]);_paq.push(['disableCookies']);_paq.push(['trackPageView']);_paq.push(['enableLinkTracking']);(function() {var u="//piwik.mnl.de/";_paq.push(['setTrackerUrl', u+'piwik.php']);_paq.push(['setSiteId', '14']);var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);})();<!-- End Matomo Code -->}</script><noscript><div>JavaScript is disabled on your browser, terms and privacy links may not be shown correctly.</div><!-- Matomo anonymous, no cookies (https://matomo.org/blog/2018/04/how-to-not-process-any-personal-data-with-matomo-and-what-it-means-for-you/) --><img src="https://piwik.mnl.de/piwik.php?idsite=14&amp;rec=1&amp;action_name=JGrapes" style="border:0" alt="" /><!-- End Matomo Code --></noscript></div></small></p>
</footer>
</div>
</div>
</body>
</html>
